<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Fault Injection Service (FIS) Quiz | Chaos Engineering</title>
    <style>
        :root { --bg-primary: #0a0e17; --bg-secondary: #141b2d; --bg-tertiary: #1a2236; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --accent-primary: #f97316; --accent-secondary: #fb923c; --success: #22c55e; --error: #ef4444; --warning: #eab308; --info: #3b82f6; --border: #2d3a52; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { text-align: center; margin-bottom: 2rem; padding: 2rem; background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%); border-radius: 16px; border: 1px solid var(--border); }
        .badge { display: inline-block; background: var(--accent-primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; text-transform: uppercase; }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { color: var(--text-secondary); font-size: 1rem; }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border); }
        .stat { text-align: center; } .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); } .stat-label { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }
        .mode-selector { display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem; }
        .mode-btn { padding: 0.75rem 2rem; border: 2px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; }
        .mode-btn:hover { border-color: var(--accent-primary); background: var(--bg-tertiary); }
        .progress-container { background: var(--bg-secondary); border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .progress-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .progress-text { font-size: 0.875rem; color: var(--text-secondary); }
        .timer { font-size: 1.25rem; font-weight: 600; color: var(--accent-primary); font-family: 'Consolas', monospace; }
        .timer.warning { color: var(--warning); animation: pulse 1s infinite; } .timer.danger { color: var(--error); animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .progress-bar { height: 8px; background: var(--bg-tertiary); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); border-radius: 4px; transition: width 0.3s ease; }
        .question-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; margin-bottom: 1.5rem; border: 1px solid var(--border); }
        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; }
        .question-number { background: var(--bg-tertiary); color: var(--accent-primary); padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.875rem; font-weight: 600; }
        .question-domain { font-size: 0.75rem; color: var(--text-secondary); background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px; }
        .question-text { font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.7; }
        .options { display: flex; flex-direction: column; gap: 0.75rem; }
        .option { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: var(--bg-tertiary); border: 2px solid var(--border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
        .option:hover:not(.disabled) { border-color: var(--accent-primary); background: rgba(249, 115, 22, 0.1); }
        .option.selected { border-color: var(--accent-primary); border-width: 3px; background: rgba(249, 115, 22, 0.2); box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.25), inset 0 0 12px rgba(249, 115, 22, 0.1); }
        .option.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.15); }
        .option.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.15); }
        .option.disabled { cursor: default; }
        .option-marker { width: 28px; height: 28px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.875rem; flex-shrink: 0; }
        .option.selected .option-marker { border-color: var(--accent-primary); background: var(--accent-primary); color: white; }
        .option.correct .option-marker { border-color: var(--success); background: var(--success); color: white; }
        .option.incorrect .option-marker { border-color: var(--error); background: var(--error); color: white; }
        .option-text { flex: 1; padding-top: 2px; }
        .explanation { margin-top: 1.5rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; border-left: 4px solid var(--info); display: none; }
        .explanation.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .explanation-title { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--info); }
        .answer-header { font-weight: 600; color: var(--success); margin-bottom: 0.5rem; }
        .explanation-text { color: var(--text-secondary); margin-bottom: 1rem; }
        .doc-link { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--accent-primary); text-decoration: none; font-size: 0.875rem; padding: 0.5rem 1rem; background: rgba(249, 115, 22, 0.1); border-radius: 6px; }
        .doc-link:hover { background: rgba(249, 115, 22, 0.2); }
        .btn-container { display: flex; justify-content: space-between; gap: 1rem; margin-top: 1rem; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4); }
        .btn-secondary { background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent-primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .results-card { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; text-align: center; border: 1px solid var(--border); display: none; }
        .results-card.show { display: block; animation: fadeIn 0.5s ease; }
        .results-score { font-size: 4rem; font-weight: 700; margin: 1rem 0; }
        .results-score.pass { color: var(--success); } .results-score.fail { color: var(--error); }
        .results-status { font-size: 1.5rem; margin-bottom: 1rem; }
        .results-status.pass { color: var(--success); } .results-status.fail { color: var(--error); }
        .results-details { color: var(--text-secondary); margin-bottom: 2rem; }
        .results-breakdown { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; padding: 1.5rem; background: var(--bg-tertiary); border-radius: 10px; }
        .breakdown-item { text-align: center; } .breakdown-value { font-size: 2rem; font-weight: 700; } .breakdown-value.correct { color: var(--success); } .breakdown-value.incorrect { color: var(--error); } .breakdown-label { font-size: 0.875rem; color: var(--text-secondary); }
        .review-section { background: var(--bg-secondary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border); display: none; }
        .review-section.show { display: block; animation: fadeIn 0.5s ease; }
        .review-header { text-align: center; margin-bottom: 2rem; }
        .review-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .review-table th { background: var(--bg-tertiary); color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; text-transform: uppercase; padding: 1rem; text-align: left; border-bottom: 2px solid var(--border); }
        .review-table td { padding: 1rem; border-bottom: 1px solid var(--border); vertical-align: top; }
        .review-table tbody tr { cursor: pointer; transition: all 0.2s ease; }
        .review-table tbody tr:hover { background: rgba(249, 115, 22, 0.1); transform: translateX(4px); }
        .review-table tbody tr.reviewed { background: rgba(249, 115, 22, 0.25); border-left: 6px solid var(--accent-primary); box-shadow: inset 0 0 20px rgba(249, 115, 22, 0.15); }
        .review-table tbody tr.reviewed:hover { background: rgba(249, 115, 22, 0.3); }
        .review-table tbody tr.reviewed .review-q-num { color: var(--accent-secondary); font-weight: 800; }
        .review-table tbody tr.reviewed .review-q-num::before { content: "\2713 "; color: var(--accent-primary); font-size: 1rem; }
        .review-q-num { font-weight: 700; color: var(--accent-primary); white-space: nowrap; }
        .review-q-text { color: var(--text-primary); line-height: 1.6; }
        .review-answer { font-weight: 600; }
        .review-answer.correct { color: var(--success); }
        .review-answer.incorrect { color: var(--error); }
        .review-status { text-align: center; font-size: 1.25rem; }
        .review-hint { text-align: center; color: var(--text-secondary); font-size: 0.875rem; margin-bottom: 1rem; }
        .btn-group { display: flex; gap: 1rem; justify-content: center; }
        .hidden { display: none !important; }
        .shuffle-notice { text-align: center; padding: 0.75rem; background: rgba(249, 115, 22, 0.1); border-radius: 8px; margin-bottom: 1.5rem; color: var(--accent-secondary); font-size: 0.875rem; }
        @media (max-width: 640px) { .container { padding: 1rem; } h1 { font-size: 1.5rem; } .stats-bar { gap: 1rem; } .mode-selector, .btn-container, .results-breakdown { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <span class="badge">AWS FIS</span>
            <h1>AWS Fault Injection Service</h1>
            <p class="subtitle">Chaos Engineering &amp; Resilience Testing with AWS FIS</p>
            <div class="stats-bar">
                <div class="stat"><div class="stat-value">20</div><div class="stat-label">Questions</div></div>
                <div class="stat"><div class="stat-value">80%</div><div class="stat-label">Pass Score</div></div>
                <div class="stat"><div class="stat-value">50:00</div><div class="stat-label">Exam Time</div></div>
            </div>
        </header>
        <div class="mode-selector" id="modeSelector">
            <button class="mode-btn" onclick="startQuiz('learn')">&#128218; Learn Mode</button>
            <button class="mode-btn" onclick="startQuiz('exam')">&#9201; Exam Mode</button>
        </div>
        <div id="quizContent" class="hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">20</span></span>
                    <span class="timer" id="timer">50:00</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width: 0%"></div></div>
            </div>
            <div class="shuffle-notice" id="shuffleNotice">&#128256; Questions and options have been randomized</div>
            <div id="questionsContainer"></div>
            <div class="btn-container">
                <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>&larr; Previous</button>
                <button class="btn btn-secondary" id="backToReviewBtn" onclick="backToReview()" style="display: none;">&larr; Back to Review</button>
                <button class="btn btn-secondary" id="shuffleBtn" onclick="shuffleQuiz()">&#128256; Shuffle</button>
                <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Next &rarr;</button>
            </div>
        </div>
        <div class="results-card" id="resultsCard">
            <h2>Quiz Complete!</h2>
            <div class="results-score" id="scorePercent">0%</div>
            <div class="results-status" id="resultStatus">-</div>
            <p class="results-details" id="resultDetails"></p>
            <div class="results-breakdown">
                <div class="breakdown-item"><div class="breakdown-value correct" id="correctCount">0</div><div class="breakdown-label">Correct</div></div>
                <div class="breakdown-item"><div class="breakdown-value incorrect" id="incorrectCount">0</div><div class="breakdown-label">Incorrect</div></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="showReview()">&#128202; Review Answers</button>
                <button class="btn btn-secondary" onclick="restartQuiz()">&#128260; Restart Quiz</button>
            </div>
        </div>
        <div class="review-section" id="reviewSection">
            <div class="review-header">
                <h2>Answer Review</h2>
                <p class="results-details">Click any question to review the full answer and explanation</p>
            </div>
            <p class="review-hint">&#128161; Tip: Click on any row to see the full question and explanation in Learn mode</p>
            <table class="review-table">
                <thead>
                    <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 50%">Question</th>
                        <th style="width: 15%">Your Answer</th>
                        <th style="width: 15%">Correct Answer</th>
                        <th style="width: 10%">Status</th>
                    </tr>
                </thead>
                <tbody id="reviewTableBody"></tbody>
            </table>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="backToResults()">&larr; Back to Results</button>
                <button class="btn btn-primary" onclick="restartQuiz()">&#128260; Restart Quiz</button>
            </div>
        </div>
    </div>
    <script>
        const questions = [
            { id: 1, question: "AWS Fault Injection Service (AWS FIS) is based on which engineering discipline or methodology?", options: ["Load testing methodology for measuring maximum throughput under sustained traffic", "Chaos engineering principles that stress applications using disruptive events to observe system response", "Blue/green deployment strategies for zero-downtime service updates", "Machine learning-based anomaly detection and automated remediation"], correct: 1, explanation: "AWS FIS is based on the principles of chaos engineering. Chaos engineering deliberately introduces failures and disruptive events to observe how systems respond, allowing teams to identify weaknesses before they affect customers. Load testing, blue/green deployments, and ML-based remediation are distinct disciplines not foundational to AWS FIS.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/what-is.html" },
            { id: 2, question: "Which three components are REQUIRED when constructing an AWS FIS experiment template?", options: ["Hypotheses, Metrics, and Notifications", "Actions, Targets, and Stop conditions", "Experiments, Schedules, and Guardrails", "CloudWatch alarms, IAM policies, and SNS topics"], correct: 1, explanation: "An AWS FIS experiment template requires Actions (activities performed on resources), Targets (the AWS resources on which actions are performed), and Stop conditions (CloudWatch alarms that halt the experiment if a threshold is breached). The template also requires an Experiment role (IAM) and optionally supports report configuration and experiment options, but the three core blueprint components are Actions, Targets, and Stop conditions.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/experiment-templates.html" },
            { id: 3, question: "You want to run the aws:ec2:stop-instances action twice in the same experiment template against two different target sets. How must you configure this?", options: ["Duplicate the action definition using the same name; AWS FIS automatically creates separate executions for each target", "Add the action to the template twice using two different action names, each referencing a different target", "Use the 'repeat' parameter on the action definition to specify how many times it should run", "Create two separate experiment templates and chain them using the startAfter dependency field"], correct: 1, explanation: "AWS FIS allows an action to be run only once during an experiment under a given name. To run the same action more than once, you must add it to the template multiple times using different action names. Each named instance can reference a different target. The 'repeat' parameter does not exist in AWS FIS, and experiments cannot be chained via startAfter (which links actions within a single template, not across templates).", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/action-sequence.html" },
            { id: 4, question: "What is the correct format for AWS FIS action identifiers?", options: ["arn:aws:fis:region:account-id:action/service-name:action-type", "fis:aws:service-name:action-type", "aws:service-name:action-type", "service-name/action-type/aws-region"], correct: 2, explanation: "AWS FIS action identifiers follow the format aws:service-name:action-type. For example, the action that stops EC2 instances is aws:ec2:stop-instances, and a Spot Instance interruption action uses aws:ec2:send-spot-instance-interruptions. This consistent naming convention makes actions predictable and discoverable. The other formats shown are not valid AWS FIS action identifier formats.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/action-sequence.html" },
            { id: 5, question: "What AWS service is used to define stop conditions in AWS FIS, and what happens when one is triggered during a running experiment?", options: ["AWS Config rules; the experiment is paused and an SNS notification is sent for manual review", "Amazon CloudWatch alarms; the experiment is stopped immediately and cannot be resumed", "AWS Systems Manager OpsItems; the experiment rolls back all changes made by actions automatically", "Amazon EventBridge rules; the experiment transitions to a degraded state and scales down affected targets"], correct: 1, explanation: "Stop conditions in AWS FIS are defined using Amazon CloudWatch alarms. You set up a CloudWatch alarm based on steady-state metrics (e.g., latency, error rate), and if that alarm triggers during an experiment, AWS FIS stops the experiment immediately. Critically, a stopped experiment cannot be resumed — you must start a new experiment run. This safety guardrail makes it safe to run fault injection experiments even in production.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/stop-conditions.html" },
            { id: 6, question: "According to AWS FIS best practices, what is the recommended first step before running fault injection experiments?", options: ["Run a small experiment directly in production to establish a realistic baseline for comparison", "Disable CloudWatch monitoring during experiments to prevent false-positive stop conditions from triggering early", "Always start experimenting in a test or pre-production environment; never begin in production", "Terminate all non-critical EC2 instances before an experiment to minimize the blast radius"], correct: 2, explanation: "AWS strongly recommends always starting fault injection experiments in a test or pre-production environment, never in production first. AWS FIS carries out real actions on real AWS resources, so unplanned experiments in production can cause real customer impact. Teams should progressively build confidence: test → controlled staging → production, with proper monitoring and rollback plans at each stage.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/getting-started-planning.html" },
            { id: 7, question: "Which of the following correctly represents the hypothesis format recommended in AWS FIS experiment planning guidelines?", options: ["'When [fault type] is injected, [system component] will automatically recover within [timeout period]'", "'If [fault injection action] is performed, the [business or technical metric impact] should not exceed [value]'", "'Given [steady state], when [action runs], then [CloudWatch alarm] must not trigger within [duration]'", "'Under [fault conditions], [target resources] must maintain [SLA threshold] for [N] consecutive minutes'"], correct: 1, explanation: "The AWS FIS planning guide recommends this exact hypothesis format: 'If [fault injection action] is performed, the [business or technical metric impact] should not exceed [value].' For example: 'If network latency increases by 10%, there is less than a 1% increase in sign-in failures.' This format ties the fault condition directly to a measurable business or technical outcome, making experiments verifiable and actionable.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/getting-started-planning.html" },
            { id: 8, question: "When does AWS FIS identify and resolve target resources during an experiment?", options: ["Targets are resolved lazily, just before each individual action runs, to always reflect the latest resource state", "Targets are identified at the start of the experiment before any actions begin; the experiment fails if no targets are found", "Targets are identified 60 seconds after the first action starts to account for recently provisioned resources", "Targets are re-evaluated after each action completes so that newly launched resources can be included in subsequent actions"], correct: 1, explanation: "AWS FIS identifies all targets at the very start of the experiment, before starting any actions. The set of target resources remains fixed for the entire experiment — resources launched after the experiment starts are not dynamically included. Critically, if no targets are found when the experiment starts, the experiment fails immediately. This predictable behavior ensures experiments run against exactly the intended resources.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/targets.html" },
            { id: 9, question: "An engineer tries to define a target using both a resource ID and a resource tag on the same target definition. What will AWS FIS do?", options: ["AWS FIS will union the two sets of resources and run the action against all resources from both criteria", "AWS FIS will prioritize resource IDs over resource tags and silently ignore the tag-based criteria", "The template is invalid; you cannot specify both a resource ID and a resource tag for the same target definition", "AWS FIS will prompt you to choose one identification method when the experiment starts"], correct: 2, explanation: "AWS FIS explicitly prevents combining a resource ID with a resource tag for the same target definition — this is an invalid configuration. Similarly, you cannot combine a resource ID with a resource filter on the same target. This constraint ensures predictable, unambiguous target resolution. If you need resources selected by both IDs and tags, you must create separate target definitions and separate actions for each.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/targets.html" },
            { id: 10, question: "How is AWS FIS priced?", options: ["A flat monthly fee per experiment template stored in your account", "Per GB of network traffic generated by fault injection actions during experiments", "Per minute that an action runs, from start to finish, based on the number of target accounts for the experiment", "Per number of distinct AWS resources targeted across all actions in a single experiment run"], correct: 2, explanation: "AWS FIS charges per minute that an action runs, from start to finish, based on the number of target accounts involved in the experiment. For single-account experiments there is one target account; for multi-account experiments, each target account contributes to the pricing calculation. There is no charge for storing experiment templates in your account, and pricing is not based on data volume or the number of resources targeted.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/what-is.html" },
            { id: 11, question: "For multi-account AWS FIS experiments, which statement is accurate regarding IAM requirements?", options: ["Target resources must always be in the same AWS account as the experiment template; cross-account targeting is not supported", "Target resources can be in a different AWS account, but only within the same AWS Organization; no IAM configuration is required", "Target resources can be in a different AWS account using multi-account experiments; the experiment role in the orchestrator account must be able to assume a role in each target account", "Multi-account experiments require AWS Control Tower to automatically manage cross-account permissions"], correct: 2, explanation: "AWS FIS supports multi-account experiments where target resources reside in different AWS accounts. For this to work, the experiment role in the orchestrator account must have sts:AssumeRole permission for an IAM role in each target account, and those target account roles must trust the orchestrator. There is no requirement for resources to be in the same AWS Organization, and AWS Control Tower is not required — cross-account trust is configured directly via IAM.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/getting-started-iam-service-role.html" },
            { id: 12, question: "What is the primary purpose of the aws:ssm:send-command action in AWS FIS?", options: ["It executes AWS CLI commands directly on FIS control plane instances without requiring SSM Agent to be installed", "It enables custom fault types by using the SSM Agent and an SSM command document to create fault conditions on targeted instances", "It sends configuration changes to AWS Systems Manager Parameter Store to simulate misconfiguration failures", "It triggers SSM Automation runbooks that replicate the behavior of built-in AWS FIS actions for legacy compatibility"], correct: 1, explanation: "The aws:ssm:send-command action enables custom fault injection scenarios by leveraging the SSM Agent running on target instances. You specify an SSM command document via the documentArn parameter, and FIS uses the SSM Agent to execute that document on targets, creating whatever fault condition the document defines. This extensibility allows teams to implement fault types beyond those covered by built-in FIS actions.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/action-sequence.html" },
            { id: 13, question: "What is a post action (rollback configuration) in the context of AWS FIS action parameters?", options: ["A separate experiment template that automatically cleans up resources after the main experiment completes", "A configuration within action parameters that returns the target to its pre-action state after the action duration completes", "A CloudWatch alarm-triggered Lambda function that restores terminated instances to their original state on experiment failure", "An SNS notification action that alerts operations teams automatically when a fault injection action completes"], correct: 1, explanation: "A post action (also called a rollback configuration) is an optional setting within action parameters that returns the target resource to its pre-action state after the action duration elapses. Post actions run automatically after the specified duration. Not all actions support rollback — for example, if an action terminates an EC2 instance, there is no rollback since the instance no longer exists. Post actions are distinct from stop conditions.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/action-sequence.html" },
            { id: 14, question: "What does the startAfter field in an AWS FIS action definition control?", options: ["The minimum delay before the very first action in an experiment begins after the experiment is started", "The time window after action completion during which a rollback post action must begin executing", "Other actions that must complete before this action can start, enabling sequential execution ordering within an experiment", "The cron-based schedule that determines when the experiment template can be automatically executed"], correct: 2, explanation: "The startAfter field specifies a list of other action names that must complete before the current action can begin. If startAfter is omitted, the action runs at the start of the experiment in parallel with all other actions that also have no startAfter dependency. This mechanism lets you build sequential workflows — for example, stop an EC2 instance first, then inject CPU stress on a different target once the stop action has completed.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/action-sequence.html" },
            { id: 15, question: "An experiment template targets aws:ec2:instance resources but when the experiment starts, no instances match the specified tags. The emptyTargetResolutionMode experiment option is set to 'skip'. What happens?", options: ["The experiment fails immediately with a TargetNotFound error and no actions run", "AWS FIS waits up to 10 minutes for matching EC2 instances to be launched before failing the experiment", "The action completes immediately with a 'skipped' status, and the experiment continues with any remaining actions", "AWS FIS selects alternative resource types such as ECS tasks as substitute targets for the skipped action"], correct: 2, explanation: "When emptyTargetResolutionMode is set to 'skip' and an action finds no matching targets, AWS FIS marks that action as 'skipped' and immediately moves to remaining actions. Without this option, finding no targets causes the entire experiment to fail. The skip mode is useful for resilient experiment templates that should gracefully handle environments where some expected resources may not exist at experiment start time.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/action-sequence.html" },
            { id: 16, question: "Which IAM condition keys does AWS recommend adding to the FIS experiment role trust policy to guard against the confused deputy problem?", options: ["aws:RequestedRegion and aws:PrincipalOrgID", "aws:SourceAccount and aws:SourceArn", "aws:CalledVia and aws:VpcSourceIp", "aws:MultiFactorAuthPresent and aws:PrincipalTag"], correct: 1, explanation: "AWS recommends using aws:SourceAccount (to restrict to the account owning the experiment) and aws:SourceArn (to restrict to the specific experiment ARN pattern, e.g., arn:aws:fis:region:account_id:experiment/*) in the trust policy condition block. This prevents a confused deputy attack where another AWS service or account could trick FIS into using your experiment role to perform unintended actions on your resources.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/getting-started-iam-service-role.html" },
            { id: 17, question: "Which of the following is NOT a supported way to create and manage AWS FIS experiment templates?", options: ["AWS Management Console", "AWS CloudFormation templates", "AWS Direct Connect private virtual interface", "AWS SDKs and HTTPS API"], correct: 2, explanation: "AWS FIS can be accessed and managed via the AWS Management Console, AWS CLI, AWS CloudFormation, AWS SDKs, and the HTTPS API. AWS Direct Connect is a dedicated network connectivity service between on-premises environments and AWS — it is a network transport mechanism, not a management interface for AWS services. It provides no FIS-specific management capabilities.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/what-is.html" },
            { id: 18, question: "Which of the following lists contains only valid AWS FIS target resource types?", options: ["aws:ec2:instance, aws:rds:db, aws:lambda:function, aws:s3:bucket, aws:eks:pod", "aws:ec2:instance, aws:mysql:database, aws:kafka:topic, aws:redis:cache", "aws:ec2:instance, aws:on-premises:server, aws:lambda:function, aws:s3:bucket", "aws:ec2:instance, aws:cloudfront:distribution, aws:waf:webacl, aws:route53:hostedzone"], correct: 0, explanation: "AWS FIS supports a broad set of resource types including aws:ec2:instance, aws:rds:db, aws:lambda:function, aws:s3:bucket, aws:eks:pod, aws:ecs:task, aws:dynamodb:global-table, aws:kinesis:stream, aws:ec2:subnet, aws:ec2:transit-gateway, and more. The other options contain unsupported or non-existent types: on-premises servers, CloudFront distributions, WAF ACLs, Route 53 hosted zones, and generic mysql/kafka/redis resource types are not valid FIS targets.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/targets.html" },
            { id: 19, question: "What defines 'steady-state behavior' in the AWS FIS experiment planning methodology, and why is it important?", options: ["The maximum throughput your application can sustain under peak production load without generating any errors", "The normal, optimal operating condition of your system defined using business and technical metrics, used as a baseline before and during experiments", "The minimum number of healthy instances required for your Auto Scaling group to pass EC2 health checks", "The quarterly SLA error budget that determines how much aggregate downtime is acceptable per service"], correct: 1, explanation: "In AWS FIS experiment planning, steady-state behavior is the normal, optimal operating condition of your system, defined using measurable metrics such as latency, CPU load, failed sign-ins per minute, number of retries, or page load speed. You define this steady state before running experiments so you can measure deviations during fault injection. The steady-state definition is also used to create the CloudWatch alarms that serve as stop conditions.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/getting-started-planning.html" },
            { id: 20, question: "An experiment template's stop conditions are configured as [{\"source\": \"none\"}]. What does this mean for the experiment?", options: ["The experiment stops immediately without running any actions because no stop source is defined", "The experiment has no stop conditions and will run until all actions complete their durations or you manually stop it", "AWS FIS will automatically create a default CPU utilization CloudWatch alarm as a fallback stop condition", "The experiment can only be stopped via the AWS Management Console, not through the CLI or API"], correct: 1, explanation: "Setting 'source': 'none' in the stopConditions array explicitly indicates that no stop conditions are configured for the experiment template. The experiment will run until all actions complete their specified durations, or until you manually stop it. While valid, AWS recommends always configuring at least one CloudWatch alarm as a stop condition — particularly for production experiments — as a safety guardrail against unexpected application degradation.", docLink: "https://docs.aws.amazon.com/fis/latest/userguide/stop-conditions.html" }
        ];

        let currentMode = 'learn', currentQuestion = 0, userAnswers = [], answersRevealed = [], shuffledQuestions = [], timerInterval = null, timeRemaining = 0, inReviewMode = false, reviewedQuestions = [];
        function shuffleArray(a) { const b = [...a]; for (let i = b.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [b[i], b[j]] = [b[j], b[i]]; } return b; }
        function shuffleQuestionOptions(q) { const idx = shuffleArray([0,1,2,3]); return { ...q, options: idx.map(i => q.options[i]), correct: idx.indexOf(q.correct) }; }
        function startQuiz(mode) { currentMode = mode; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); inReviewMode = false; reviewedQuestions = []; document.getElementById('modeSelector').classList.add('hidden'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('totalQ').textContent = shuffledQuestions.length; document.getElementById('backToReviewBtn').style.display = 'none'; if (mode === 'exam') { timeRemaining = shuffledQuestions.length * 150; startTimer(); document.getElementById('shuffleBtn').classList.add('hidden'); } else { document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').classList.remove('hidden'); } renderQuestion(); }
        function startTimer() { updateTimerDisplay(); timerInterval = setInterval(() => { timeRemaining--; updateTimerDisplay(); if (timeRemaining <= 0) { clearInterval(timerInterval); showResults(); } }, 1000); }
        function updateTimerDisplay() { const m = Math.floor(timeRemaining / 60), s = timeRemaining % 60, el = document.getElementById('timer'); el.textContent = `${m}:${s.toString().padStart(2, '0')}`; el.classList.remove('warning', 'danger'); if (timeRemaining <= 60) el.classList.add('danger'); else if (timeRemaining <= 300) el.classList.add('warning'); }
        function renderQuestion() { const q = shuffledQuestions[currentQuestion], letters = ['A','B','C','D'], ans = userAnswers[currentQuestion], revealed = answersRevealed[currentQuestion]; let opts = q.options.map((o, i) => { let c = 'option'; if (currentMode === 'learn' && revealed) { c += ' disabled'; if (i === q.correct) c += ' correct'; else if (i === ans && ans !== q.correct) c += ' incorrect'; } else if (ans === i) c += ' selected'; return `<div class="${c}" onclick="selectOption(${i})"><span class="option-marker">${letters[i]}</span><span class="option-text">${o}</span></div>`; }).join(''); let exp = currentMode === 'learn' ? `<div class="explanation ${revealed ? 'show' : ''}"><div class="explanation-title">&#128214; Explanation</div><div class="answer-header">Correct Answer: ${letters[q.correct]}</div><p class="explanation-text">${q.explanation}</p><a href="${q.docLink}" target="_blank" class="doc-link">&#128196; View AWS Documentation &rarr;</a></div>` : ''; document.getElementById('questionsContainer').innerHTML = `<div class="question-card"><div class="question-header"><span class="question-number">Question ${currentQuestion + 1}</span><span class="question-domain">AWS FIS</span></div><p class="question-text">${q.question}</p><div class="options">${opts}</div>${currentMode === 'learn' && !revealed ? '<button class="btn btn-primary" style="margin-top:1rem;width:100%;" onclick="revealAnswer()">Show Answer</button>' : ''}${exp}</div>`; document.getElementById('currentQ').textContent = currentQuestion + 1; document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%`; document.getElementById('prevBtn').disabled = currentQuestion === 0; document.getElementById('nextBtn').textContent = currentQuestion === shuffledQuestions.length - 1 ? (currentMode === 'exam' ? 'Submit Quiz' : 'See Results') : 'Next \u2192'; }
        function selectOption(i) { if (currentMode === 'learn' && answersRevealed[currentQuestion]) return; userAnswers[currentQuestion] = i; renderQuestion(); }
        function revealAnswer() { if (userAnswers[currentQuestion] === null) userAnswers[currentQuestion] = -1; answersRevealed[currentQuestion] = true; renderQuestion(); }
        function navigate(d) { if (d === 1 && currentQuestion === shuffledQuestions.length - 1) { showResults(); return; } currentQuestion = Math.max(0, Math.min(currentQuestion + d, shuffledQuestions.length - 1)); renderQuestion(); }
        function shuffleQuiz() { if (currentMode !== 'learn') return; currentQuestion = 0; userAnswers = new Array(questions.length).fill(null); answersRevealed = new Array(questions.length).fill(false); shuffledQuestions = shuffleArray(questions).map(shuffleQuestionOptions); renderQuestion(); }
        function showResults() { if (timerInterval) clearInterval(timerInterval); let correct = shuffledQuestions.reduce((c, q, i) => c + (userAnswers[i] === q.correct ? 1 : 0), 0); const total = shuffledQuestions.length, pct = Math.round((correct / total) * 100), pass = pct >= 80; document.getElementById('quizContent').classList.add('hidden'); document.getElementById('resultsCard').classList.add('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('scorePercent').textContent = pct + '%'; document.getElementById('scorePercent').className = 'results-score ' + (pass ? 'pass' : 'fail'); document.getElementById('resultStatus').textContent = pass ? '\uD83C\uDF89 PASSED!' : '\uD83D\uDCDA Keep Studying'; document.getElementById('resultStatus').className = 'results-status ' + (pass ? 'pass' : 'fail'); document.getElementById('resultDetails').textContent = `You answered ${correct} out of ${total} questions correctly.`; document.getElementById('correctCount').textContent = correct; document.getElementById('incorrectCount').textContent = total - correct; }
        function showReview() { const letters = ['A','B','C','D']; const tbody = document.getElementById('reviewTableBody'); tbody.innerHTML = shuffledQuestions.map((q, i) => { const userAns = userAnswers[i]; const isCorrect = userAns === q.correct; const userLetter = userAns !== null && userAns >= 0 ? letters[userAns] : 'No Answer'; const correctLetter = letters[q.correct]; const statusIcon = isCorrect ? '\u2713' : '\u2717'; const statusClass = isCorrect ? 'correct' : 'incorrect'; const qText = q.question.length > 120 ? q.question.substring(0, 120) + '...' : q.question; const reviewedClass = reviewedQuestions.includes(i) ? 'reviewed' : ''; return `<tr class="${reviewedClass}" onclick="reviewQuestion(${i})"><td class="review-q-num">${i + 1}</td><td class="review-q-text">${qText}</td><td class="review-answer ${userAns === q.correct ? 'correct' : 'incorrect'}">${userLetter}</td><td class="review-answer correct">${correctLetter}</td><td class="review-status ${statusClass}">${statusIcon}</td></tr>`; }).join(''); document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.add('show'); inReviewMode = true; }
        function reviewQuestion(qIndex) { if (!reviewedQuestions.includes(qIndex)) { reviewedQuestions.push(qIndex); } currentMode = 'learn'; currentQuestion = qIndex; answersRevealed[qIndex] = true; document.getElementById('reviewSection').classList.remove('show'); document.getElementById('quizContent').classList.remove('hidden'); document.getElementById('timer').textContent = 'Learn Mode'; document.getElementById('shuffleBtn').style.display = 'none'; document.getElementById('backToReviewBtn').style.display = 'inline-block'; if (timerInterval) clearInterval(timerInterval); renderQuestion(); }
        function backToReview() { document.getElementById('quizContent').classList.add('hidden'); showReview(); }
        function backToResults() { document.getElementById('reviewSection').classList.remove('show'); document.getElementById('resultsCard').classList.add('show'); inReviewMode = false; }
        function restartQuiz() { document.getElementById('resultsCard').classList.remove('show'); document.getElementById('reviewSection').classList.remove('show'); document.getElementById('modeSelector').classList.remove('hidden'); document.getElementById('quizContent').classList.add('hidden'); document.getElementById('backToReviewBtn').style.display = 'none'; inReviewMode = false; reviewedQuestions = []; if (timerInterval) clearInterval(timerInterval); }
    </script>
</body>
</html>
